{% extends "base.html" %}
{% block title %}Index{% endblock %}
{% block head %}
    {{ super() }}
    <!--suppress HtmlDeprecatedAttribute, CssUnusedSymbol -->
<style type="text/css">
        .important { color: #336699; }
    </style>
{% endblock %}
{% block content %}
    <h1>CSV Calculation Result</h1>

    <div id="calc_result">
        <label>{{ success }}<br></label>
    </div>

    {% with messages = get_flashed_messages() %}
    {% if messages %}
        {% for message in messages %}
            <div class="alert alert-success" role="alert">
                {{ message }}
            </div>
        {% endfor %}
    {% endif %}
    {% endwith %}

    <div id="result">
        <h4><br>Timestamp: {{ timestamp }} <br></h4>
        <h4>Operation: {{ operation }} <br></h4>
    </div>

<div class="download" align="left">
       <label> Download Result File:</label>
        <a href= "/return-files/" target="_blank"><button class='btn btn-default' style="color: coral">Download</button></a>
</div>

<div class="container mb-3 mt-3">

    <table class ="table table-light table-hover table-striped" id="mydatatable" width="110%" class="display nowrap">
        <thead class="thead">
            <tr>
                <th scope="col">Record Number</th>
                <th scope="col">Value 1</th>
                <th scope="col">Value 2</th>
                <th scope="col">Operation</th>
                <th scope="col">Result Provided</th>
                <th scope="col">Calculated Result</th>
                <th scope="col">Validation</th>
            </tr>
        </thead>
        <tbody>
            {% for value1, value2, operation, result, calculated, validate in rows %}
                <tr>
                    <th scope="row">{{loop.index}}</th>
                    <td>{{ value1 }}</td>
                    <td>{{ value2 }}</td>
                    <td>{{ operation }}</td>
                    <td>{{ result }}</td>
                    <td>{{ calculated }}</td>
                    <td>{{ validate }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
